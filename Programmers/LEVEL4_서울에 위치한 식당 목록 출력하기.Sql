-- 코드를 입력하세요
SELECT T.REST_ID AS REST_ID
, T.REST_NAME AS REST_NAME
, T.FOOD_TYPE AS FOOD_TYPE
, T.FAVORITES AS FAVORITES
, T.ADDRESS AS ADDRESS
, ROUND(AVG(T.REVIEW_SCORE), 2) AS SCORE
FROM (
    SELECT A.REST_ID
    , A.REST_NAME
    , A.FOOD_TYPE
    , A.FAVORITES
    , A.ADDRESS
    , B.REVIEW_SCORE
    FROM REST_INFO A
    , REST_REVIEW B
    WHERE A.ADDRESS LIKE '서울%'
    AND A.REST_ID = B.REST_ID
    ) T
GROUP BY T.REST_ID, T.REST_NAME, T.FOOD_TYPE, T.FAVORITES, T.ADDRESS
ORDER BY SCORE DESC, FAVORITES DESC
;